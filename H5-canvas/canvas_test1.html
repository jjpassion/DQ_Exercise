<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Canvas实例-鼠标画线</title>
</head>
<style>
body{background: #ddd;}
canvas{background: #fff;}
canvas span{color: #fff;}
</style>
 <script>
 window.onload = function(){
 	 var oC = document.getElementById('c1')

	 var ctx = oC.getContext('2d')
	 	 ,oCofl = oC.offsetLeft
	 	 ,oCoft = oC.offsetTop

	 document.onmousedown = function(ev){
	 	console.log(ev.clientX - oCofl,ev.clientY - oCoft)
	 	var ev = ev || window.event

	 	ctx.moveTo(ev.clientX - oCofl ,ev.clientY - oCoft)
	 
	 	document.onmousemove = function(ev){
	 		var ev = ev || window.event

	 		ctx.lineTo(ev.clientX - oCofl, ev.clientY - oCoft)
	 		ctx.stroke()
	 	}

	 	document.onmouseup = function(){
	 		document.onmousemove = null;
	 		document.onmouseup = null
	 	}
	 }
	 
	 
 }

 </script>
<body>

<canvas id="c1" width="400" height="400">
	<!-- 不支持canvas的浏览器 这句话就显示  -->
	<span>浏览器不支持canvas</span>
</canvas>

</body>
</html>