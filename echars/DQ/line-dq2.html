<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px"></div>
    <!-- ECharts单文件引入 -->
    <script src="./build/dist/echarts.js"></script>
    <script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: './build/dist'
            }
        });
        
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                // var myChart = ec.init(document.getElementById('main'),'dark'); 
                
                //{dom} dom, {string | Object =} theme 第二个参数为主题对象
                var myChart = ec.init(document.getElementById('main'), 'macarons')

                // 过渡---------------------
                myChart.showLoading({
                    text: '正在努力的读取数据中...',    //loading话术
                });

option = {
    title : {
        text: '雨量流量关系图',
        subtext: '数据来自西安兰特水电测控技术有限公司',
        x: 'center'
    },
    // tooltip : {
    //     trigger: 'axis',
    //     formatter: function(params) {
    //         return params[0].name + '<br/>'
    //                + params[0].seriesName + ' : ' + params[0].value + ' (m^3/s)<br/>'
    //                + params[1].seriesName + ' : ' + -params[1].value + ' (mm)';
    //     }
    // },
    legend: {
        data:['流量','降雨量'],
        x: 'left'
    },
    // toolbox: {
    //     show : true,
    //     feature : {
    //         mark : {show: true},
    //         dataView : {show: true, readOnly: false},
    //         magicType : {show: true, type: ['line', 'bar']},
    //         restore : {show: true},
    //         saveAsImage : {show: true}
    //     }
    // },
    // dataZoom : {
    //     show : true,
    //     realtime : true,
    //     start : 0,
    //     end : 100
    // },
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            axisLine: {onZero: false},
            data :  (function () {
                var arr = []
                    ,i = 9
                    ,j = 0

                for (; i < 15; i++) {
                    for (j = 0; j < 60; j++) {
                        if(j < 10){
                            j = '0' + j
                        }
                        arr.push( i + ':' + j )
                    };
                };

                arr.push('15:00')
                return arr;
            })()
        }
    ],
    yAxis : [
        {
            name : '流量(m^3/s)',
            type : 'value',
            max : 3000
        },
        {
            name : '降雨量(mm)',
            type : 'value',
            max:3000
            // axisLabel : {
            //     formatter: function(v){
            //         return - v;
            //     }
            // }
        }
    ],
    series : [
        {
            name:'流量',
            type:'line',
            symbol: 'none',
            // itemStyle: {normal: {areaStyle: {type: 'default'}}},
            data:[
                2450, 2087, 2067, 2608, 2569, 2241, 2469, 2109, 2212, 2823, 2918, 2535, 2897, 2817, 2812, 2796, 2875, 2469, 2305, 2051, 2547, 2603, 2834, 2755, 2548, 2827, 2567, 2192, 2368, 2653, 2444, 2111, 2696, 2196, 2711, 2611, 2690, 2742, 2005, 2394, 2273, 2959, 2991, 2849, 2105, 2459, 2273, 2601, 2923, 2262, 2650, 2842, 2331, 2676, 2156, 2801, 2911, 2394, 2802, 2129, 2156, 2572, 2843, 2795, 2101, 2316, 2483, 2935, 2043, 2735, 2998, 2267, 2729, 2621, 2922, 2660, 2674, 2185, 2569, 2754, 2990, 2635, 2053, 2906, 2226, 2743, 2834, 2069, 2007, 2048, 2320, 2824, 2752, 2893, 2198, 2107, 2045, 2377, 2281, 2115,2450, 2087, 2067, 2608, 2569, 2241, 2469, 2109, 2212, 2823, 2918, 2535, 2897, 2817, 2812, 2796, 2875, 2469, 2305, 2051, 2547, 2603, 2834, 2755, 2548, 2827, 2567, 2192, 2368, 2653, 2444, 2111, 2696, 2196, 2711, 2611, 2690, 2742, 2005, 2394, 2273, 2959, 2991, 2849, 2105, 2459, 2273, 2601, 2923, 2262, 2650, 2842, 2331, 2676, 2156, 2801, 2911, 2394, 2802, 2129, 2156, 2572, 2843, 2795, 2101, 2316, 2483, 2935, 2043, 2735, 2998, 2267, 2729, 2621, 2922, 2660, 2674, 2185, 2569, 2754, 2990, 2635, 2053, 2906, 2226, 2743, 2834, 2069, 2007, 2048, 2320, 2824, 2752, 2893, 2198, 2107, 2045, 2377, 2281, 2115
            ]
        },
        {
            name:'降雨量',
            type:'line',
            yAxisIndex:1,
            symbol: 'none',
            // itemStyle: {normal: {areaStyle: {type: 'default'}}},
            data:[1000, 1030, 1100, 1040, 1500,1200,1089, 1100, 1000, 1030, 1400, 1340, 1000, 1200, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1028,990,876,1020,1000,1098, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1300,1000, 1030, 1100, 1040, 1500,1200,1089, 1100, 1000, 1030, 1400, 1340, 1000, 1200, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1028,990,876,1020,1000,1098, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1300,1000, 1030, 1100, 1040, 1500,1200,1089, 1100, 1000, 1030, 1400, 1340, 1000, 1200, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1028,990,876,1020,1000,1098, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1300,1000, 1030, 1100, 1040, 1500,1200,1089, 1100, 1000, 1030, 1400, 1340, 1000, 1200, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1028,990,876,1020,1000,1098, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1000, 1030, 1100, 1040, 1000, 1300,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1100,1000,1000,1000,1000,1000,1000,1000,1000,1300,900,800,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000]
        }
    ]
};
                

                myChart.hideLoading();

                /* 提示隐藏 */
                // setTimeout(function(){
                //       myChart.hideLoading();
                // },1000 )
            
              

                // 为echarts对象加载数据 
                myChart.setOption(option); 

            }
        );


        // 非入口或再次使用，图表已被加载注册
        // require('echarts').init(dom).setOption({...});

        // 如果需要再次使用ECharts的图表实例，建议你还是保存init返回的图表实例吧
        // var myChart = require('echarts').init(dom);
        // myChart.setOption({...}); 
    </script>
</body>